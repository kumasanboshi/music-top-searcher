# CONTRIBUTING.md - コーディング規約・開発フロー

## Git運用

### ブランチ戦略
```
main          : 安定版、リリース可能
└── feature/* : 機能開発用
```

### コミットメッセージ
```
<type>: <subject>

Type:
- feat: 新機能
- fix: バグ修正
- docs: ドキュメント
- style: コードスタイル（フォーマット等）
- refactor: リファクタリング
- test: テスト
- chore: ビルド、設定等

例:
feat: ユーザー認証機能を実装
fix: ログイン時のバリデーションバグを修正
docs: README にセットアップ手順を追加
```

---

## Issue駆動開発

### ワークフロー
1. GitHub Issueでタスク作成
2. worktreeでブランチ作成
3. 実装・テスト
4. PR作成 → CodeRabbitレビュー
5. マージ

詳細は `WORKFLOW_SETUP.md` 参照

### Issueテンプレート（推奨）

**機能追加**
```markdown
## 概要
何を実装するか

## 背景
なぜ必要か

## 完了条件
- [ ] 条件1
- [ ] 条件2

## 備考
参考リンクなど
```

**バグ報告**
```markdown
## 現象
何が起きているか

## 再現手順
1.
2.
3.

## 期待する動作
本来どうあるべきか

## 環境
- OS:
- ブラウザ/デバイス:
- バージョン:
```

---

## PRテンプレート（推奨）

```markdown
## 概要
このPRで何を変更したか

## 関連Issue
Closes #XX

## 変更内容
- 変更点1
- 変更点2

## テスト
- [ ] ローカルで動作確認済み
- [ ] 既存のテストが通る

## スクリーンショット（UI変更の場合）

```

---

## コードレビュー

### レビュー観点
- [ ] 要件を満たしているか
- [ ] コードが読みやすいか
- [ ] セキュリティ上の問題がないか
- [ ] パフォーマンス上の問題がないか
- [ ] テストが書かれているか

### CodeRabbit自動レビュー
PRを作成すると自動でAIレビューが走る（設定済みの場合）

---

## 環境変数の管理

### ルール
- `.env` ファイルは **絶対にコミットしない**
- `.env.example` にキー名のみ記載してコミット
- 実際の値はローカルで `.env` に設定

### 例
```bash
# .env.example（コミット可）
API_KEY=
DATABASE_URL=

# .env（コミット不可）
API_KEY=actual_secret_key
DATABASE_URL=postgres://...
```
